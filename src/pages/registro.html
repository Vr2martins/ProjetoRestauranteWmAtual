<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../public/css/registro.css">
    <title>Área de Registro</title>
</head>

<body>
    <div>
        <!-- Campo de menu de navegação -->
        <div class="menu">
            <ul class="ulmenu">
                <li class="limenu dropdown">
                    <a class="dropbtn" href="#"><img src="../../public/img/outromenu.png" alt="Menu"></a>
                    <div class="dropdown-conteudo">
                        <a href="#">Página Sobre</a>
                        <a href="#">Cardápio</a>
                        <a href="#">Login</a>
                    </div>
                </li>
            </ul>
        </div>

        <!-- Container de informações de cadastro -->
        <main class="container" id="register-container">
            <form id="register-form" method="POST" action="../php/registro.php">
                <!-- Caixa de mensagens de erro -->
                <div id="message-box" style="display: none; text-align: center; margin-bottom: 10px; color: red; font-weight: bold;"></div>

                <h1 id="form-title">Cadastro</h1>

                <div class="input-box" id="name-box">
                    <label for="name-input">Nome completo</label>
                    <input id="name-input" name="nome" placeholder="Nome completo" type="text" required>
                </div>

                <div class="input-box" id="contact-box">
                    <label for="contact-input">Contato</label>
                    <input id="contact-input" name="contato" placeholder="Telefone" type="tel" required>
                </div>

                <div class="input-box" id="email-box">
                    <label for="email-input">Email</label>
                    <input id="email-input" name="email" placeholder="E-mail" type="email" required>
                </div>

                <div class="input-box" id="password-box">
                    <label for="password-input">Crie uma senha</label>
                    <input id="password-input" name="senha" placeholder="Senha" type="password" required>
                </div>

                <div class="input-box" id="address-box">
                    <label for="address-input">Endereço</label>
                    <input id="address-input" name="endereco" placeholder="Rua e número" type="text" required>
                </div>

                <div class="input-box" id="city-box">
                    <label for="city-input">Cidade</label>
                    <input id="city-input" name="cidade" placeholder="Cidade" type="text" required>
                </div>

                <div class="input-box" id="cep-box">
                    <label for="cep-input">CEP</label>
                    <input id="cep-input" name="cep" placeholder="CEP" type="text" required>
                </div>

                <button type="submit" class="cadastro" id="register-button">Cadastrar</button>
            </form>
        </main>
    </div>

    <!-- Script para exibir mensagens com base na URL -->
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const erro = urlParams.get('erro');
        const box = document.getElementById('message-box');

        if (erro === '1') {
            box.innerText = '⚠️ Este e-mail já está cadastrado. Tente outro.';
            box.style.display = 'block';
        } else if (erro === '2') {
            box.innerText = '❌ Ocorreu um erro ao cadastrar. Tente novamente.';
            box.style.display = 'block';
        }
    </script>
</body>

</html>